<?php

/**
 * @file gridster.module
 */

function gridster_gridster_layout_hook_name() {
  return 'gridster_layout_info';
}

function gridster_gridster_widget_type_hook_name() {
  return 'gridster_widget_type_info';
}

function gridster_gridster_widget_type_info() {
  // $widget_types[] = new Gridster\WidgetType();
  return $widget_types;
}

/**
 * Import new grid-master
 */
function gridster_usecase_import_gridmaster($json) {
  $gm_manager = new Drupal\gridster\Gridster\GridMasterManager();

  $importer = $gm_manager->getJSONImporter();
  $importer->setInput($json);
  $grid_master = $importer->import();
}

/**
 * Render a grid-master
 */
function gridster_usecase_render_gridmaster($uuid) {
  $gm_manager = new Drupal\gridster\Gridster\GridMasterManager();
  $grid_master = $gm_manager->load($uuid);
  $output = $grid_master->render();
}

/**
 * Render a widget defined in grid-master
 */
function gridster_usecase_render_widget($gm_uuid, $widget_uuid) {
  $gm_manager = new Drupal\gridster\Gridster\GridMasterManager();
  if ($grid_master = $gm_manager->load($gm_uuid)) {
    if ($gm_widget = $grid_master->getWidget($widget_uuid)) {
      $gm_widget->getWidget()->render();
    }
  }
}
